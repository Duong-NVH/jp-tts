(this["webpackJsonpjp-tts-v1"]=this["webpackJsonpjp-tts-v1"]||[]).push([[0],{107:function(t,e,n){"use strict";n.r(e);var a=n(11),r=n(0),c=n(9),i=n.n(c),o=(n(80),n(24)),s=n.n(o),u=n(44),l=n(45),d=n(141),j=n(135),p=n(137),f=n(140),b=n(142),x=n(138),h=n(139),v=n(64),O=n.n(v),m=n(63),w=n.n(m),y=n(65),g=n.n(y),C=n(66),k=n.n(C),A=n(58),I=n.n(A),S=n(59),z=n.n(S),J=Object(h.a)({app:{height:"100%",textAlign:"center","&>:first-child":{margin:20},"&>:nth-child(3)":{margin:20,"&>*":{margin:"0 5px 0px 5px"}}},content:{height:250,display:"flex",flexDirection:"column",justifyContent:"space-around"}}),P=function(){var t=Object(r.useState)(""),e=Object(l.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),h=o[0],v=o[1],m=Object(r.useState)(),y=Object(l.a)(m,2),C=y[0],A=y[1],S=J(),P=function(){var t=Object(u.a)(s.a.mark((function t(){var e,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>0)){t.next=14;break}return e="https://us-central1-spontane.cloudfunctions.net/txttospeech?text=".concat(n,"&languageCode=ja-JP&voiceCode=ja-JP-Standard-A"),v(!0),t.prev=3,t.next=6,I.a.post(e);case 6:(a=t.sent).data.audioContent.data?A(a.data.audioContent.data):alert("?"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert(t.t0);case 13:v(!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new AudioContext,n=new Int8Array(Int8Array.from(C)),t.next=4,e.decodeAudioData(n.buffer);case 4:a=t.sent,(r=e.createBufferSource()).buffer=a,r.connect(e.destination),r.start(e.currentTime);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,a,r,c,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Int8Array(Int8Array.from(C)),n=new AudioContext,t.next=4,n.decodeAudioData(e.buffer);case 4:a=t.sent,r=z()(a),c=new Blob([new DataView(r)],{type:"audio/wav"}),i=window.URL.createObjectURL(c),(o=document.createElement("a")).href=i,o.setAttribute("download","audio.wav"),o.click();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(d.a,{className:S.app,children:[Object(a.jsxs)(j.a,{variant:"h1",children:["JP-TTS V1 ",Object(a.jsx)(w.a,{style:{fontSize:60}})]}),Object(a.jsxs)(p.a,{maxWidth:"sm",className:S.content,children:[Object(a.jsx)(f.a,{id:"standard-multiline-flexible",label:"Enter text",multiline:!0,variant:"outlined",rows:8,value:n,onChange:function(t){C&&A(null),c(t.target.value)},fullWidth:!0}),Object(a.jsx)(b.a,{variant:"contained",color:"primary",startIcon:h?Object(a.jsx)(x.a,{color:"secondary",size:20}):Object(a.jsx)(O.a,{}),size:"large",onClick:P,disabled:h,children:h?"Processing":"Convert to speech"})]}),C&&Object(a.jsxs)(d.a,{children:[Object(a.jsx)(b.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(a.jsx)(g.a,{}),onClick:B,children:"Get audio"}),Object(a.jsx)(b.a,{variant:"contained",color:"secondary",size:"large",startIcon:Object(a.jsx)(k.a,{}),onClick:D,children:"Play"})]})]})};i.a.render(Object(a.jsx)(P,{}),document.getElementById("root"))},80:function(t,e,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.cbf4d726.chunk.js.map