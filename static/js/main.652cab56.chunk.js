(this["webpackJsonpjp-tts-v1"]=this["webpackJsonpjp-tts-v1"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(0),c=n(10),o=n.n(c),s=(n(94),n(35)),i=n.n(s),u=n(53),l=n(48),d=n(175),p=n(169),j=n(171),h=n(174),b=n(176),f=n(172),x=n(173),m=n(78),v=n.n(m),O=n(77),y=n.n(O),g=n(79),w=n.n(g),k=n(80),C=n.n(k),A=n(72),I=n.n(A),S=n(73),z=n.n(S),J=Object(x.a)({app:{height:"100%",textAlign:"center","&>:first-child":{margin:20},"&>:nth-child(3)":{margin:20,"&>*":{margin:"0 5px 0px 5px"}}},content:{height:250,display:"flex",flexDirection:"column",justifyContent:"space-around"}}),P=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(l.a)(o,2),x=s[0],m=s[1],O=Object(r.useState)(),g=Object(l.a)(O,2),k=g[0],A=g[1],S=J(),P=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=14;break}return t="https://cors-anywhere.herokuapp.com/us-central1-spontane.cloudfunctions.net/txttospeech?text=".concat(n,"&languageCode=ja-JP&voiceCode=ja-JP-Standard-A"),m(!0),e.prev=3,e.next=6,I.a.post(t);case 6:(a=e.sent).data.audioContent.data?A(a.data.audioContent.data):alert("?"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert(e.t0);case 13:m(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AudioContext,n=new Int8Array(Int8Array.from(k)),e.next=4,t.decodeAudioData(n.buffer);case 4:a=e.sent,(r=t.createBufferSource()).buffer=a,r.connect(t.destination),r.start(t.currentTime);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(d.a,{className:S.app,children:[Object(a.jsxs)(p.a,{variant:"h1",children:["JP-TTS V1 ",Object(a.jsx)(y.a,{style:{fontSize:60}})]}),Object(a.jsxs)(j.a,{maxWidth:"sm",className:S.content,children:[Object(a.jsx)(h.a,{id:"standard-multiline-flexible",label:"Enter text",multiline:!0,variant:"outlined",rows:8,value:n,onChange:function(e){k&&A(null),c(e.target.value)},fullWidth:!0}),Object(a.jsx)(b.a,{variant:"contained",color:"primary",startIcon:x?Object(a.jsx)(f.a,{color:"secondary",size:20}):Object(a.jsx)(v.a,{}),size:"large",onClick:P,disabled:x,children:x?"Processing":"Convert to speech"})]}),k&&Object(a.jsxs)(d.a,{children:[Object(a.jsx)(b.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(a.jsx)(w.a,{}),onClick:function(){for(var e=new z.a.Mp3Encoder(2,44100,128),t=[],n=1152,a=new Int16Array(Int16Array.from(k)),r=0;r<a.length;r+=n){var c=a.subarray(r,r+n),o=a.subarray(r,r+n),s=e.encodeBuffer(c,o);s.length>0&&t.push(s)}(s=e.flush()).length>0&&t.push(new Int8Array(s));var i=new Blob(t,{type:"audio/mp3"}),u=window.URL.createObjectURL(i),l=document.createElement("a");l.href=u,l.setAttribute("download","audio.mp3"),l.click()},children:"Get mp3"}),Object(a.jsx)(b.a,{variant:"contained",color:"secondary",size:"large",startIcon:Object(a.jsx)(C.a,{}),onClick:B,children:"Play"})]})]})};o.a.render(Object(a.jsx)(P,{}),document.getElementById("root"))},94:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.652cab56.chunk.js.map